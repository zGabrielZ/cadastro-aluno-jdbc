Criação da tabela aluno

create table tu.ALUNO (
ID INT NOT NULL,
NOME VARCHAR(255) NOT NULL,
CPF VARCHAR(255) NOT NULL,
EMAIL_ID INT NOT NULL,
CONSTRAINT ALUNO_PK PRIMARY KEY(ID)
);

sequence para o id do aluno

CREATE SEQUENCE tu.ALUNO_SEQUENCE_ID
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1;

e setando no id do aluno

ALTER TABLE tu.ALUNO ALTER COLUMN ID SET DEFAULT NEXTVAL('tu.ALUNO_SEQUENCE_ID'::regclass);

Criação da tabela Email

create table tu.EMAIL (
ID INT NOT NULL,
ENDERECO VARCHAR(255) NOT NULL,
CONSTRAINT EMAIL_PK PRIMARY KEY(ID)
);

sequence para o id do email

CREATE SEQUENCE tu.EMAIL_SEQUENCE_ID
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1;

e setando no id do email

ALTER TABLE tu.EMAIL ALTER COLUMN ID SET DEFAULT NEXTVAL('tu.EMAIL_SEQUENCE_ID'::regclass);

Criacao de chave estrangeira para email na tabela aluno

ALTER TABLE tu.ALUNO ADD FOREIGN KEY (EMAIL_ID) REFERENCES tu.EMAIL(ID)

Criação da tabela TipoTelefone

create table tu.TIPO_TELEFONE (
ID INT NOT NULL,
DESCRICAO VARCHAR(255) NOT NULL,
CONSTRAINT TIPO_TELEFONE_PK PRIMARY KEY(ID)
);

sequence para o id do tipo telefone

CREATE SEQUENCE tu.TIPO_TELEFONE_SEQUENCE_ID
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1;

e setando no id do TIPO TELEFONE

ALTER TABLE tu.TIPO_TELEFONE ALTER COLUMN ID SET DEFAULT NEXTVAL('tu.TIPO_TELEFONE_SEQUENCE_ID'::regclass);

Inserindo dados para tipo telefone
INSERT INTO tu.TIPO_TELEFONE (DESCRICAO) VALUES ('Residencial');
INSERT INTO tu.TIPO_TELEFONE (DESCRICAO) VALUES ('Celular');


Criação da tabela Telefone

create table tu.TELEFONE (
ID INT NOT NULL,
NUMERO VARCHAR(255) NOT NULL,
ID_ALUNO INT NOT NULL,
ID_TIPO INT NOT NULL,
CONSTRAINT TELEFONE_PK PRIMARY KEY(ID)
);

sequence para o id do TELEFONE

CREATE SEQUENCE tu.TELEFONE_SEQUENCE_ID
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1;

e setando no id do TELEFONE

ALTER TABLE tu.TELEFONE ALTER COLUMN ID SET DEFAULT NEXTVAL('tu.TELEFONE_SEQUENCE_ID'::regclass);


Criação para chave estrangeira de aluno e tipo de telefone

ALTER TABLE tu.TELEFONE ADD FOREIGN KEY (ID_ALUNO) REFERENCES tu.ALUNO(ID)
ALTER TABLE tu.TELEFONE ADD FOREIGN KEY (ID_TIPO) REFERENCES tu.TIPO_TELEFONE(ID)
ALTER TABLE tu.TELEFONE ADD COLUMN DDD VARCHAR(255) NOT NULL
