Criação da tabela aluno

create table public.ALUNO (
ID INT NOT NULL,
NOME VARCHAR(255) NOT NULL,
CPF VARCHAR(255) NOT NULL,
EMAIL_ID INT NOT NULL,
CONSTRAINT ALUNO_PK PRIMARY KEY(ID)
);

sequence para o id do aluno

CREATE SEQUENCE public.ALUNO_SEQUENCE_ID
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1;

e setando no id do aluno

ALTER TABLE public.ALUNO ALTER COLUMN ID SET DEFAULT NEXTVAL('public.ALUNO_SEQUENCE_ID'::regclass);

Criação da tabela Email

create table public.EMAIL (
ID INT NOT NULL,
ENDERECO VARCHAR(255) NOT NULL,
CONSTRAINT EMAIL_PK PRIMARY KEY(ID)
);

sequence para o id do email

CREATE SEQUENCE public.EMAIL_SEQUENCE_ID
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1;

e setando no id do email

ALTER TABLE public.EMAIL ALTER COLUMN ID SET DEFAULT NEXTVAL('public.EMAIL_SEQUENCE_ID'::regclass);

Criacao de chave estrangeira para email na tabela aluno

ALTER TABLE public.ALUNO ADD FOREIGN KEY (EMAIL_ID) REFERENCES public.EMAIL(ID)

Criação da tabela TipoTelefone

create table public.TIPO_TELEFONE (
ID INT NOT NULL,
DESCRICAO VARCHAR(255) NOT NULL,
CONSTRAINT TIPO_TELEFONE_PK PRIMARY KEY(ID)
);

sequence para o id do tipo telefone

CREATE SEQUENCE public.TIPO_TELEFONE_SEQUENCE_ID
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1;

e setando no id do TIPO TELEFONE

ALTER TABLE public.TIPO_TELEFONE ALTER COLUMN ID SET DEFAULT NEXTVAL('public.TIPO_TELEFONE_SEQUENCE_ID'::regclass);

Inserindo dados para tipo telefone
INSERT INTO public.TIPO_TELEFONE (DESCRICAO) VALUES ('Residencial');
INSERT INTO public.TIPO_TELEFONE (DESCRICAO) VALUES ('Celular');


Criação da tabela Telefone

create table public.TELEFONE (
ID INT NOT NULL,
NUMERO VARCHAR(255) NOT NULL,
ID_ALUNO INT NOT NULL,
ID_TIPO INT NOT NULL,
CONSTRAINT TELEFONE_PK PRIMARY KEY(ID)
);

sequence para o id do TELEFONE

CREATE SEQUENCE public.TELEFONE_SEQUENCE_ID
INCREMENT 1
MINVALUE 1
MAXVALUE 9223372036854775807
START 1;

e setando no id do TELEFONE

ALTER TABLE public.TELEFONE ALTER COLUMN ID SET DEFAULT NEXTVAL('public.TELEFONE_SEQUENCE_ID'::regclass);


Criação para chave estrangeira de aluno e tipo de telefone

ALTER TABLE public.TELEFONE ADD FOREIGN KEY (ID_ALUNO) REFERENCES public.ALUNO(ID)
ALTER TABLE public.TELEFONE ADD FOREIGN KEY (ID_TIPO) REFERENCES public.TIPO_TELEFONE(ID)
ALTER TABLE public.TELEFONE ADD COLUMN DDD VARCHAR(255) NOT NULL
